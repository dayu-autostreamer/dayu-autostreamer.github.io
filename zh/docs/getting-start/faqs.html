<!doctype html>
<html class="docs-version-current" lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Dayu Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Dayu Blog Atom Feed"><title data-react-helmet="true">FAQs | Dayu</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/zh/docs/getting-start/faqs"><meta data-react-helmet="true" name="docusaurus_locale" content="zh"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="FAQs | Dayu"><meta data-react-helmet="true" name="description" content="é—®é¢˜ä¸€ï¼škube-proxy æŠ¥ iptables é—®é¢˜"><meta data-react-helmet="true" property="og:description" content="é—®é¢˜ä¸€ï¼škube-proxy æŠ¥ iptables é—®é¢˜"><link data-react-helmet="true" rel="shortcut icon" href="/zh/img/dayu-logo.png"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/zh/docs/getting-start/faqs"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/getting-start/faqs" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/zh/docs/getting-start/faqs" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/getting-start/faqs" hreflang="x-default"><link rel="stylesheet" href="/zh/assets/css/styles.3d55f3a0.css">
<link rel="preload" href="/zh/assets/js/runtime~main.eaeab0d0.js" as="script">
<link rel="preload" href="/zh/assets/js/main.c5dadaff.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><img src="/zh/img/dayu.png" alt="Dayu Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/zh/img/dayu.png" alt="Dayu Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"></a><a class="navbar__item navbar__link navbar__link--active" href="/zh/docs/introduction/why-dayu">Documentation</a><a class="navbar__item navbar__link" href="/zh/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/dayu-autostreamer/dayu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Instruction</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Architecture</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/getting-start/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/getting-start/preparation">Preparation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/getting-start/installation">Installation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/docs/getting-start/faqs">FAQs</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Developer Guide</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>FAQs</h1></header><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜ä¸€kube-proxy-æŠ¥-iptables-é—®é¢˜"></a>é—®é¢˜ä¸€ï¼škube-proxy æŠ¥ iptables é—®é¢˜<a class="hash-link" href="#é—®é¢˜ä¸€kube-proxy-æŠ¥-iptables-é—®é¢˜" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">E0627 09:28:54.054930 1 proxier.go:1598] Failed to execute iptables-restore: exit status 1 (iptables-restore: line 86 failed ) I0627 09:28:54.054962 1 proxier.go:879] Sync failed; retrying in 30s</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è§£å†³ï¼šç›´æ¥æ¸…ç† iptables</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">iptables -F &amp;&amp; iptables -t nat -F &amp;&amp; iptables -t mangle -F &amp;&amp; iptables -X</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜äºŒcalico-å’Œ-coredns-ä¸€ç›´å¤„äºåˆå§‹åŒ–"></a>é—®é¢˜äºŒï¼šcalico å’Œ coredns ä¸€ç›´å¤„äºåˆå§‹åŒ–<a class="hash-link" href="#é—®é¢˜äºŒcalico-å’Œ-coredns-ä¸€ç›´å¤„äºåˆå§‹åŒ–" title="Direct link to heading">#</a></h3><p>ç”¨ <code>kubectl describe &lt;podname&gt;</code> åº”è¯¥ä¼šæœ‰ failed çš„æŠ¥é”™ï¼Œå¤§è‡´å†…å®¹æ˜¯è·Ÿ network å’Œ sandbox ç›¸å…³çš„ </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Failed to create pod sandbox: rpc error: code = Unknown desc = [failed to set up sandbox container &quot;7f5b66ebecdfc2c206027a2afcb9d1a58ec5db1a6a10a91d4d60c0079236e401&quot; network for pod &quot;calico-kube-controllers-577f77cb5c-99t8z&quot;: networkPlugin cni failed to set up pod &quot;calico-kube-controllers-577f77cb5c-99t8z_kube-system&quot; network: error getting ClusterInformation: Get &quot;https://[10.96.0.1]:443/apis/crd.projectcalico.org/v1/clusterinformations/default&quot;: dial tcp 10.96.0. 1:443: i/o timeout, failed to clean up sandbox container &quot;7f5b66ebecdfc2c206027a2afcb9d1a58ec5db1a6a10a91d4d60c0079236e401&quot; network for pod &quot;calico-kube-controllers-577f77cb5c-99t8z&quot;: networkPlugin cni failed to teardown pod &quot;calico-kube-controllers-577f77cb5c-99t8z_kube-system&quot; network: error getting ClusterInformation: Get &quot;https://[10.96.0.1]:443/apis/crd.projectcalico.org/v1/clusterinformations/default&quot;: dial tcp 10.96.0. 1:443: i/o timeout]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åŸå› ï¼šåº”è¯¥ä¸æ˜¯ç¬¬ä¸€æ¬¡åˆå§‹åŒ– k8s é›†ç¾¤ï¼Œæ‰€ä»¥ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ã€‚å‡ºç°çš„åŸå› æ˜¯ä¹‹å‰æ²¡æœ‰åˆ é™¤ k8s çš„ç½‘ç»œé…ç½®ï¼ˆæ–‡æ¡£é‡Œçš„æ¯ä¸€æ­¥éƒ½æœ‰å®ƒå­˜åœ¨çš„æ„ä¹‰...ï¼‰</p><p>è§£å†³ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> -rf /etc/cni/net.d/  </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ é™¤ç½‘ç»œé…ç½®</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># maybeéœ€è¦é‡æ–°initä¸€ä¸‹</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜ä¸‰metrics-serverä¸€ç›´æ— æ³•æˆåŠŸ"></a>é—®é¢˜ä¸‰ï¼šmetrics-serverä¸€ç›´æ— æ³•æˆåŠŸ<a class="hash-link" href="#é—®é¢˜ä¸‰metrics-serverä¸€ç›´æ— æ³•æˆåŠŸ" title="Direct link to heading">#</a></h3><p>åŸå› ï¼šmaster æ²¡æœ‰åŠ æ±¡ç‚¹
è§£å†³ï¼š<code>kubectl taint nodes --all node-role.kubernetes.io/master node-role.kubernetes.io/master-</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜å››10002-already-in-use"></a>é—®é¢˜å››ï¼š10002 already in use<a class="hash-link" href="#é—®é¢˜å››10002-already-in-use" title="Direct link to heading">#</a></h3><p><code>journalctl -u cloudcore.service -xe</code> æ—¶çœ‹åˆ° xxx already in use</p><p>åŸå› ï¼šåº”è¯¥æ˜¯ä¹‹å‰çš„è®°å½•æ²¡æœ‰æ¸…ç†å¹²å‡€
è§£å†³ï¼šæ‰¾åˆ°å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼Œç›´æ¥ Kill å³å¯</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">lsof</span><span class="token plain"> -i:xxxx</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">kill</span><span class="token plain"> xxxxx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜äº”edgecore-ç¬¦å·é“¾æ¥å·²å­˜åœ¨"></a>é—®é¢˜äº”ï¼šedgecore ç¬¦å·é“¾æ¥å·²å­˜åœ¨<a class="hash-link" href="#é—®é¢˜äº”edgecore-ç¬¦å·é“¾æ¥å·²å­˜åœ¨" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">execute keadm command failed:  failed to exec &#x27;bash -c sudo ln /etc/kubeedge/edgecore.service /etc/systemd/system/edgecore.service &amp;&amp; sudo systemctl daemon-reload &amp;&amp; sudo systemctl enable edgecore &amp;&amp; sudo systemctl start edgecore&#x27;, err: ln: failed to create hard link &#x27;/etc/systemd/system/edgecore.service&#x27;: File exists</span></span><span class="token-line" style="color:#393A34"><span class="token plain">, err: exit status 1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åœ¨å°è¯•åˆ›å»ºç¬¦å·é“¾æ¥æ—¶ï¼Œç›®æ ‡è·¯å¾„å·²ç»å­˜åœ¨ï¼Œå› æ­¤æ— æ³•åˆ›å»ºã€‚è¿™é€šå¸¸æ˜¯å› ä¸º <code>edgecore.service</code> å·²ç»å­˜åœ¨äº <code>/etc/systemd/system/</code> ç›®å½•ä¸­</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> /etc/systemd/system/edgecore.service</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜å…­ç¼ºå°‘-tlsstreamcertfile"></a>é—®é¢˜å…­ï¼šç¼ºå°‘ TLSStreamCertFile<a class="hash-link" href="#é—®é¢˜å…­ç¼ºå°‘-tlsstreamcertfile" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"> TLSStreamPrivateKeyFile: Invalid value: </span><span class="token string" style="color:#e3116c">&quot;/etc/kubeedge/certs/stream.key&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> TLSStreamPrivateKeyFile not exist</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">12</span><span class="token plain">æœˆ </span><span class="token number" style="color:#36acaa">14</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token plain">:02:23 cloud.kubeedge cloudcore</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">196229</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">:   TLSStreamCertFile: Invalid value: </span><span class="token string" style="color:#e3116c">&quot;/etc/kubeedge/certs/stream.crt&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> TLSStreamCertFile not exist</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">12</span><span class="token plain">æœˆ </span><span class="token number" style="color:#36acaa">14</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token plain">:02:23 cloud.kubeedge cloudcore</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">196229</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">:   TLSStreamCAFile: Invalid value: </span><span class="token string" style="color:#e3116c">&quot;/etc/kubeedge/ca/streamCA.crt&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> TLSStreamCAFile not exist</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">12</span><span class="token plain">æœˆ </span><span class="token number" style="color:#36acaa">14</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token plain">:02:23 cloud.kubeedge cloudcore</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">196229</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>æŸ¥çœ‹ <code>/etc/kubeedge</code> ä¸‹æ˜¯å¦æœ‰ <code>certgen.sh</code> å¹¶ä¸” <code>bash certgen.sh stream</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜ä¸ƒedgemesh-çš„-log-è¾¹è¾¹äº’è”æˆåŠŸäº‘è¾¹æ— æ³•è¿æ¥"></a>é—®é¢˜ä¸ƒï¼šedgemesh çš„ log è¾¹è¾¹äº’è”æˆåŠŸï¼Œäº‘è¾¹æ— æ³•è¿æ¥<a class="hash-link" href="#é—®é¢˜ä¸ƒedgemesh-çš„-log-è¾¹è¾¹äº’è”æˆåŠŸäº‘è¾¹æ— æ³•è¿æ¥" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="æ’æŸ¥"></a>æ’æŸ¥<a class="hash-link" href="#æ’æŸ¥" title="Direct link to heading">#</a></h4><p>å…ˆå¤ä¹ ä¸€ä¸‹<strong>å®šä½æ¨¡å‹</strong>ï¼Œç¡®å®š<strong>è¢«è®¿é—®èŠ‚ç‚¹</strong>ä¸Šçš„ edgemesh-agent(å³)å®¹å™¨æ˜¯å¦å­˜åœ¨ã€æ˜¯å¦å¤„äºæ­£å¸¸è¿è¡Œä¸­ã€‚</p><p><strong>è¿™ä¸ªæƒ…å†µæ˜¯éå¸¸ç»å¸¸å‡ºç°çš„</strong>ï¼Œå› ä¸º master èŠ‚ç‚¹ä¸€èˆ¬éƒ½æœ‰æ±¡ç‚¹ï¼Œä¼šé©±é€å…¶ä»– podï¼Œè¿›è€Œå¯¼è‡´ edgemesh-agent éƒ¨ç½²ä¸ä¸Šå»ã€‚è¿™ç§æƒ…å†µå¯ä»¥é€šè¿‡å»é™¤èŠ‚ç‚¹æ±¡ç‚¹ï¼Œä½¿ edgemesh-agent éƒ¨ç½²ä¸Šå»è§£å†³ã€‚</p><p>å¦‚æœè®¿é—®èŠ‚ç‚¹å’Œè¢«è®¿é—®èŠ‚ç‚¹çš„ edgemesh-agent éƒ½æ­£å¸¸å¯åŠ¨äº†ï¼Œä½†æ˜¯è¿˜æŠ¥è¿™ä¸ªé”™è¯¯ï¼Œå¯èƒ½æ˜¯å› ä¸ºè®¿é—®èŠ‚ç‚¹å’Œè¢«è®¿é—®èŠ‚ç‚¹æ²¡æœ‰äº’ç›¸å‘ç°å¯¼è‡´ï¼Œè¯·è¿™æ ·æ’æŸ¥ï¼š</p><ol><li>é¦–å…ˆæ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„ edgemesh-agent éƒ½å…·æœ‰ peer IDï¼Œæ¯”å¦‚</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">edge2: </span></span><span class="token-line" style="color:#393A34"><span class="token plain">I</span><span class="token string" style="color:#e3116c">&#x27;m {12D3KooWPpY4GqqNF3sLC397fMz5ZZfxmtMTNa1gLYFopWbHxZDt: [/ip4/127.0.0.1/tcp/20006 /ip4/192.168.1.4/tcp/20006]}</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c">
</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">edge1.kubeedge:</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">I&#x27;</span><span class="token plain">m </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">12D3KooWFz1dKY8L3JC8wAY6sJ5MswvPEGKysPCfcaGxFmeH7wkz: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">/ip4/127.0.0.1/tcp/20006 /ip4/192.168.1.2/tcp/20006</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">æ³¨æ„ï¼š</span></span><span class="token-line" style="color:#393A34"><span class="token plain">a. peer IDæ˜¯æ ¹æ®èŠ‚ç‚¹åç§°å“ˆå¸Œå‡ºæ¥çš„ï¼Œç›¸åŒçš„èŠ‚ç‚¹åç§°ä¼šå“ˆå¸Œå‡ºç›¸åŒçš„peer ID</span></span><span class="token-line" style="color:#393A34"><span class="token plain">b. å¦å¤–ï¼ŒèŠ‚ç‚¹åç§°ä¸æ˜¯æœåŠ¡å™¨åç§°ï¼Œæ˜¯k8s </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> nameï¼Œè¯·ç”¨kubectl get nodesæŸ¥çœ‹</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>2.å¦‚æœè®¿é—®èŠ‚ç‚¹å’Œè¢«è®¿é—®èŠ‚ç‚¹å¤„äºåŒä¸€ä¸ªå±€åŸŸç½‘å†…ï¼ˆ<strong>æ‰€æœ‰èŠ‚ç‚¹åº”è¯¥å…·å¤‡å†…ç½‘ IPï¼ˆ10.0.0.0/8ã€172.16.0.0/12ã€192.168.0.0/16</strong>ï¼‰ï¼Œè¯·çœ‹<a href="https://zhuanlan.zhihu.com/p/585749690" target="_blank" rel="noopener noreferrer">å…¨ç½‘æœ€å…¨EdgeMesh Q&amp;Aæ‰‹å†Œ - çŸ¥ä¹ (zhihu.com)</a><strong>é—®é¢˜åäºŒ</strong>åŒä¸€ä¸ªå±€åŸŸç½‘å†… edgemesh-agent äº’ç›¸å‘ç°å¯¹æ–¹æ—¶çš„æ—¥å¿—æ˜¯ <code>[MDNS] Discovery found peer: &lt;è¢«è®¿é—®ç«¯peer ID: [è¢«è®¿é—®ç«¯IPåˆ—è¡¨(å¯èƒ½ä¼šåŒ…å«ä¸­ç»§èŠ‚ç‚¹IP)]&gt;</code> ^d3939d</p><p>3.å¦‚æœè®¿é—®èŠ‚ç‚¹å’Œè¢«è®¿é—®èŠ‚ç‚¹è·¨å­ç½‘ï¼Œè¿™æ—¶å€™åº”è¯¥çœ‹çœ‹ relayNodes è®¾ç½®çš„æ­£ä¸æ­£ç¡®ï¼Œä¸ºä»€ä¹ˆä¸­ç»§èŠ‚ç‚¹æ²¡åŠæ³•ååŠ©ä¸¤ä¸ªèŠ‚ç‚¹äº¤æ¢ peer ä¿¡æ¯ã€‚è¯¦ç»†ææ–™è¯·é˜…è¯»ï¼š<a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/4whnkMM9oOaWRsI1ICsvSA" target="_blank" rel="noopener noreferrer">KubeEdge EdgeMesh é«˜å¯ç”¨æ¶æ„è¯¦è§£</a>ã€‚è·¨å­ç½‘çš„ edgemesh-agent äº’ç›¸å‘ç°å¯¹æ–¹æ—¶çš„æ—¥å¿—æ˜¯ <code>[DHT] Discovery found peer: &lt;è¢«è®¿é—®ç«¯peer ID: [è¢«è®¿é—®ç«¯IPåˆ—è¡¨(å¯èƒ½ä¼šåŒ…å«ä¸­ç»§èŠ‚ç‚¹IP)]&gt;</code>ï¼ˆé€‚ç”¨äºæˆ‘çš„æƒ…å†µï¼‰</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³"></a>è§£å†³<a class="hash-link" href="#è§£å†³" title="Direct link to heading">#</a></h4><p>åœ¨éƒ¨ç½² edgemesh è¿›è¡Œ <code>kubectl apply -f build/agent/resources/</code> æ“ä½œæ—¶ï¼Œä¿®æ”¹ 04-configmapï¼Œæ·»åŠ  relayNodeï¼ˆæ ¹æœ¬åŸå› åœ¨äºï¼Œä¸ç¬¦åˆâ€œè®¿é—®èŠ‚ç‚¹å’Œè¢«è®¿é—®èŠ‚ç‚¹å¤„äºåŒä¸€ä¸ªå±€åŸŸç½‘å†…â€ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ  relayNodeï¼‰</p><p><img alt="Q7" src="/zh/assets/images/Q7-8146db94e6f201c47562da7a76cc6ab9.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜å…«master-çš„gpu-å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ°-gpu-èµ„æº"></a>é—®é¢˜å…«ï¼šmaster çš„gpu å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ° gpu èµ„æº<a class="hash-link" href="#é—®é¢˜å…«master-çš„gpu-å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ°-gpu-èµ„æº" title="Direct link to heading">#</a></h3><p>ä¸»è¦é’ˆå¯¹çš„æ˜¯æœåŠ¡å™¨çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ <code>nvidia-smi</code> æŸ¥çœ‹æ˜¾å¡æƒ…å†µã€‚</p><p>éœ€è¦é…ç½®GPUæ”¯æŒ</p><blockquote><p>[!quote][Installing the NVIDIA Container Toolkit â€” NVIDIA Container Toolkit 1.14.3 documentation](<a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html#configuration" target="_blank" rel="noopener noreferrer">https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html#configuration</a>)</p></blockquote><p>æŒ‰ä¸Šè¿°å†…å®¹è¿›è¡Œé…ç½®ï¼Œç„¶åè¿˜éœ€è¦ <code>vim /etc/docker/daemon.json</code>ï¼Œæ·»åŠ  default-runtimeã€‚æŒ‰ç…§ quote çš„å†…å®¹è®¾ç½®åä¼šæœ‰â€œruntimesâ€ä½†æ˜¯ default-runtime ä¸ä¼šè®¾ç½®ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ‰¾ä¸åˆ° GPU èµ„æº</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;exec-opts&quot;: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;native.cgroupdriver=systemd&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;registry-mirrors&quot;: [</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;https://b9pmyelo.mirror.aliyuncs.com&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;default-runtime&quot;: &quot;nvidia&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;runtimes&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;nvidia&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;args&quot;: [],</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;path&quot;: &quot;nvidia-container-runtime&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜ä¹jeston-çš„-gpu-å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ°-gpu-èµ„æº"></a>é—®é¢˜ä¹ï¼šjeston çš„ gpu å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ° gpu èµ„æº<a class="hash-link" href="#é—®é¢˜ä¹jeston-çš„-gpu-å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ°-gpu-èµ„æº" title="Direct link to heading">#</a></h3><p>ç†è®ºä¸Š <code>k8s-device-plugin</code> å·²ç»æ”¯æŒäº† tegra å³ jetson ç³»åˆ—æ¿å­ï¼Œä¼šåœ¨æŸ¥çœ‹ GPU ä¹‹å‰åˆ¤æ–­æ˜¯å¦æ˜¯ tegra æ¶æ„ï¼Œå¦‚æœæ˜¯åˆ™é‡‡ç”¨ tegra ä¸‹æŸ¥çœ‹ GPU çš„æ–¹å¼ï¼ˆåŸå› åœ¨ [[#GPU æ”¯æŒ]]é‡Œ quote è¿‡äº† ï¼‰ï¼Œä½†æ˜¯å¾ˆå¥‡æ€ªçš„æ˜¯æ˜æ˜æ˜¯ tegra çš„æ¶æ„å´æ²¡æœ‰æ£€æµ‹åˆ°ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/01/04 07:43:58 Retreiving plugins.</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/01/04 07:43:58 Detected non-NVML platform: could not load NVML: libnvidia-ml.so.1: cannot </span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> shared object file: No such </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> or directory</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/01/04 07:43:58 Detected non-Tegra platform: /sys/devices/soc0/family </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> not found</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/01/04 07:43:58 Incompatible platform detected</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/01/04 07:43:58 If this is a GPU node, did you configure the NVIDIA Container Toolkit?</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/01/04 07:43:58 You can check the prerequisites at: https://github.com/NVIDIA/k8s-device-plugin</span><span class="token comment" style="color:#999988;font-style:italic">#prerequisites</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/01/04 07:43:58 You can learn how to </span><span class="token builtin class-name">set</span><span class="token plain"> the runtime at: https://github.com/NVIDIA/k8s-device-plugin</span><span class="token comment" style="color:#999988;font-style:italic">#quick-start</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/01/04 07:43:58 If this is not a GPU node, you should </span><span class="token builtin class-name">set</span><span class="token plain"> up a toleration or nodeSelector to only deploy this plugin on GPU nodes</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/01/04 07:43:58 No devices found. Waiting indefinitely.</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img alt="Q9-1" src="/zh/assets/images/Q9-1-7d0151af41d7e0fcc09e05810fef0580.png"></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ dpkg -l </span><span class="token string" style="color:#e3116c">&#x27;*nvidia*&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img alt="Q9-2" src="/zh/assets/images/Q9-2-7da49098d112b131753b39531fdc55aa.png"></p><p><img alt="Q9-3" src="/zh/assets/images/Q9-3-591f4e53eb2b30e79c052d9cc8a342d2.png"></p><blockquote><p>[!quote][Plug in does not detect Tegra device Jetson Nano Â· Issue #377 Â· NVIDIA/k8s-device-plugin (github.com)](<a href="https://github.com/NVIDIA/k8s-device-plugin/issues/377" target="_blank" rel="noopener noreferrer">https://github.com/NVIDIA/k8s-device-plugin/issues/377</a>)</p><p>Note that looking at the initial logs that you provided you may have been using <code>v1.7.0</code> of the NVIDIA Container Toolkit. This is quite an old version and we greatly improved our support for Tegra-based systems with the <code>v1.10.0</code> release. It should also be noted that in order to use the GPU Device Plugin on Tegra-based systems (specifically targetting the integrated GPUs) at least <code>v1.11.0</code> of the NVIDIA Container Toolkit is required.</p><p>There are no Tegra-specific changes in the <code>v1.12.0</code> release, so using the <code>v1.11.0</code> release should be sufficient in this case.</p></blockquote><p>é‚£ä¹ˆåº”è¯¥éœ€è¦å‡çº§<strong>NVIDIA Container Toolkit</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -fsSL https://nvidia.github.io/libnvidia-container/gpgkey </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sed</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tee</span><span class="token plain"> /etc/apt/sources.list.d/nvidia-container-toolkit.list</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y nvidia-container-toolkit</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜ålc12700-5353-no-such-hostconnection-refused"></a>é—®é¢˜åï¼šlc127.0.0. 53:53 no such host/connection refused<a class="hash-link" href="#é—®é¢˜ålc12700-5353-no-such-hostconnection-refused" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°<a class="hash-link" href="#é—®é¢˜æè¿°" title="Direct link to heading">#</a></h4><p>åœ¨å®‰è£…Sednaé˜¶æ®µï¼Œæ£€æŸ¥æ­£ç¡®æ€§æ—¶æŠ¥é”™lc127.0.0. 53:53 no such host/connection refused</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•<a class="hash-link" href="#è§£å†³æ–¹æ³•" title="Direct link to heading">#</a></h4><p>é”™è¯¯åŸç†å‚è§ï¼š<a href="https://zhuanlan.zhihu.com/p/585749690" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/585749690</a>  é“¾æ¥ä¸­çš„é—®é¢˜äº”ã€‚</p><p>é¦–å…ˆï¼Œæ£€æŸ¥å‡†å¤‡é˜¶æ®µä¸­çš„Sednaå®‰è£…è„šæœ¬install.shï¼Œè§‚å¯Ÿå…¶ä¸­æ˜¯å¦æœ‰Hostnetworké”®å€¼å¯¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¸€èˆ¬è¯´æ˜ä¸ä¼šæœ‰é—®é¢˜ã€‚</p><p>å¦‚æœç¡®è®¤æ²¡æœ‰è¿™ä¸ªé”®å€¼å¯¹å´ä¾ç„¶æŠ¥é”™ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ–¹æ³•æš‚æ—¶è§£å†³é—®é¢˜ï¼ˆä¸æ¨èï¼‰ï¼š</p><p>ï¼ˆ1ï¼‰åœ¨è¾¹/äº‘ï¼ˆå–å†³äºæ˜¯å“ªä¸€ä¸ªsednaçš„podå‡ºé—®é¢˜äº†ï¼‰ç”¨vim /etc/resolv.confæ‰“å¼€æ–‡ä»¶ï¼Œç„¶ååœ¨æ–‡ä»¶æœ€åä¸€è¡Œæ·»åŠ nameserver 169.254.96.16ï¼Œå“ªæ€•æ–‡ä»¶ä¸­æœ¬æ¥å°±æœ‰nameserveré”®ã€‚ä½†æ˜¯ä¸€èˆ¬ä¸æ¨èè¿™æ ·åšã€‚</p><p>ï¼ˆ2ï¼‰å†å»è¾¹ç«¯ç”¨vim /etc/kubeedge/config/edgecore.yamæ‰“å¼€edgecore.yamlï¼ŒæŸ¥çœ‹edgeéƒ¨åˆ†çš„clusterDNSå†…æ˜¯å¦å¯¹åº”169.254.96.16ï¼Œæœ‰æ²¡æœ‰è¢«è¦†ç›–ã€‚å¦‚æœæ²¡è¦†ç›–å°±æˆåŠŸã€‚</p><p>ï¼ˆ3ï¼‰åœ¨è¿™ä¹‹åï¼Œå¦‚æœæ˜¯è¾¹ç«¯ä¸Šçš„podå‡ºé—®é¢˜ï¼Œå°±è¦é‡è£…sednaï¼Œå…ˆdeleteå†createã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="åŸè§£å†³æ–¹æ³•"></a>åŸè§£å†³æ–¹æ³•ï¼š<a class="hash-link" href="#åŸè§£å†³æ–¹æ³•" title="Direct link to heading">#</a></h4><p>åŸå› ï¼šè§£æ gm.sedna è¿™ä¸ªåŸŸåå¤±è´¥</p><ol><li>å¦‚æœå®‰è£… sedna è„šæœ¬æœ‰å°† hostNetwork å»æ‰ï¼Œåˆ™æ£€æŸ¥ edgecore.yaml çš„ clusterDNS éƒ¨åˆ†ï¼Œ<strong>ç€é‡æ³¨æ„æ˜¯å¦æ²¡æœ‰äºŒæ¬¡è®¾ç½®ç„¶åè¢«åè®¾ç½®çš„è¦†ç›–æ‰</strong></li><li>å¦‚æœæ²¡æœ‰å°† hostNetwork å»æ‰ï¼Œåˆ™å°†å®¿ä¸»æœºçš„ <code>/etc/resolv.conf</code> æ·»åŠ  <code>nameserver 169.254.96.16</code></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜åä¸€1692549616no-such-host"></a>é—®é¢˜åä¸€ï¼š169.254.96.16:no such host<a class="hash-link" href="#é—®é¢˜åä¸€1692549616no-such-host" title="Direct link to heading">#</a></h3><p>æ£€æŸ¥ edgemesh çš„é…ç½®æ˜¯å¦æ­£ç¡®ï¼š</p><ol><li>æ£€æŸ¥ iptables çš„é“¾çš„é¡ºåºå¦‚<a href="https://edgemesh.netlify.app/zh/advanced/hybird-proxy.html" target="_blank" rel="noopener noreferrer">æ··åˆä»£ç† | EdgeMesh</a> æ‰€ç¤º</li><li>ç€é‡æ£€æŸ¥ clusterDNS</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜åäºŒ-kubectl-logs-pod-name-è¶…æ—¶"></a>é—®é¢˜åäºŒï¼š <code>kubectl logs &lt;pod-name&gt;</code> è¶…æ—¶<a class="hash-link" href="#é—®é¢˜åäºŒ-kubectl-logs-pod-name-è¶…æ—¶" title="Direct link to heading">#</a></h3><p><img alt="Q12-1" src="/zh/assets/images/Q12-1-60f1a6a94ca2026686a35355f721293d.png"></p><p>åŸå› ï¼šå€Ÿé‰´ <a href="https://zhuanlan.zhihu.com/p/379962934" target="_blank" rel="noopener noreferrer">Kubernetes è¾¹ç¼˜èŠ‚ç‚¹æŠ“ä¸åˆ°ç›‘æ§æŒ‡æ ‡ï¼Ÿè¯•è¯•è¿™ä¸ªæ–¹æ³•ï¼ - çŸ¥ä¹ (zhihu.com)</a></p><p><img alt="Q12-2" src="/zh/assets/images/Q12-2-f993592abf40687d45bb005fd2b6ed1c.png"></p><p>å¯ä»¥å‘ç°æŠ¥é”™è®¿é—®çš„ç«¯å£å°±æ˜¯ 10350ï¼Œè€Œåœ¨ kubeedge ä¸­ 10350 åº”è¯¥ä¼šè¿›è¡Œè½¬å‘ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ cloudcore çš„è®¾ç½®é—®é¢˜ã€‚</p><p>è§£å†³ï¼š<a href="https://kubeedge.io/docs/advanced/debug/" target="_blank" rel="noopener noreferrer">Enable Kubectl logs/exec to debug pods on the edge | KubeEdge</a> æ ¹æ®è¿™ä¸ªé“¾æ¥è®¾ç½®å³å¯ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜åä¸‰-kubectl-logs-pod-name-å¡ä½"></a>é—®é¢˜åä¸‰ï¼š <code>kubectl logs &lt;pod-name&gt;</code> å¡ä½<a class="hash-link" href="#é—®é¢˜åä¸‰-kubectl-logs-pod-name-å¡ä½" title="Direct link to heading">#</a></h3><p>å¯èƒ½çš„åŸå› ï¼šä¹‹å‰ <code>kubectl logs</code> æ—¶æœªç»“æŸå°± ctrl+c ç»“æŸäº†å¯¼è‡´åç»­å¡ä½
è§£å†³ï¼šé‡å¯ edgecore/cloudcore <code>systemctl restart edgecore.service</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜åå››cloudcoreæŠ¥certficateé”™è¯¯"></a>é—®é¢˜åå››ï¼šCloudCoreæŠ¥certficateé”™è¯¯<a class="hash-link" href="#é—®é¢˜åå››cloudcoreæŠ¥certficateé”™è¯¯" title="Direct link to heading">#</a></h3><p><img alt="Q14" src="/zh/assets/images/Q14-6d45356896d3c46128f949c4ca662ba4.png"></p><p>åŸå› ï¼šå› ä¸ºæ˜¯é‡è£…ï¼Œä¸»èŠ‚ç‚¹ token å˜äº†ï¼Œä½†æ˜¯è¾¹ç¼˜èŠ‚ç‚¹ä¸€ç›´ä»¥è¿‡å»çš„ token å°è¯•è¿›è¡Œè¿æ¥</p><p>è§£å†³ï¼šè¾¹ç«¯ç”¨æ–°çš„ token è¿æ¥å°±å¥½</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜åäº”åˆ é™¤å‘½åç©ºé—´å¡åœ¨-terminating"></a>é—®é¢˜åäº”ï¼šåˆ é™¤å‘½åç©ºé—´å¡åœ¨ terminating<a class="hash-link" href="#é—®é¢˜åäº”åˆ é™¤å‘½åç©ºé—´å¡åœ¨-terminating" title="Direct link to heading">#</a></h3><p>ç†è®ºä¸Šä¸€ç›´ç­‰å¾…åº”è¯¥æ˜¯å¯ä»¥çš„(ä½†æ˜¯æˆ‘ç­‰äº†åŠä¸ªé’Ÿä¹Ÿæ²¡æˆåŠŸå•Š!!)
<strong>æ–¹æ³•ä¸€</strong>ï¼Œä½†æ˜¯æ²¡å•¥ç”¨ï¼Œä¾æ—§å¡ä½</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete ns sedna --force --grace-period</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>æ–¹æ³•äºŒ</strong>ï¼š</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">å¼€å¯ä¸€ä¸ªä»£ç†ç»ˆç«¯</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl proxy</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting to serve on </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:8001</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">å†å¼€å¯ä¸€ä¸ªæ“ä½œç»ˆç«¯</span></span><span class="token-line" style="color:#393A34"><span class="token plain">å°†test namespaceçš„é…ç½®æ–‡ä»¶è¾“å‡ºä¿å­˜</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get ns sedna -o json </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> sedna.json</span></span><span class="token-line" style="color:#393A34"><span class="token plain">åˆ é™¤specåŠstatuséƒ¨åˆ†çš„å†…å®¹è¿˜æœ‰metadataå­—æ®µåçš„</span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token plain">å·ï¼Œåˆ‡è®°ï¼</span></span><span class="token-line" style="color:#393A34"><span class="token plain">å‰©ä¸‹å†…å®¹å¤§è‡´å¦‚ä¸‹</span></span><span class="token-line" style="color:#393A34"><span class="token plain">guest@cloud:~/yby$ </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> sedna.json</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;apiVersion&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;kind&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Namespace&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;metadata&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;creationTimestamp&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:12:13Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;deletionTimestamp&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:15:25Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;managedFields&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;apiVersion&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;fieldsType&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;FieldsV1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;fieldsV1&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;f:status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">&quot;f:phase&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;manager&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;kubectl-create&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;operation&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Update&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;time&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:12:13Z&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;apiVersion&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;fieldsType&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;FieldsV1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;fieldsV1&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;f:status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">&quot;f:conditions&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token string" style="color:#e3116c">&quot;k:{</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">type</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">:</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">NamespaceContentRemaining</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">}&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token string" style="color:#e3116c">&quot;k:{</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">type</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">:</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">NamespaceDeletionContentFailure</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">}&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token string" style="color:#e3116c">&quot;k:{</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">type</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">:</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">NamespaceDeletionDiscoveryFailure</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">}&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token string" style="color:#e3116c">&quot;k:{</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">type</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">:</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">NamespaceDeletionGroupVersionParsingFailure</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">}&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token string" style="color:#e3116c">&quot;k:{</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">type</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">:</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">NamespaceFinalizersRemaining</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">}&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token string" style="color:#e3116c">&quot;f:type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;manager&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;kube-controller-manager&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;operation&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Update&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;time&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:15:30Z&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sedna&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;resourceVersion&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3351515&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;uid&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;99cb8afb-a4c1-45e6-960d-ff1b4894773d&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">è°ƒæ¥å£åˆ é™¤</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># curl -k -H &quot;Content-Type: application/json&quot; -X PUT --data-binary @sedna.json http://127.0.0.1:8001/api/v1/namespaces/sedna/finalize</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;kind&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Namespace&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;apiVersion&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;metadata&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sedna&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;uid&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;99cb8afb-a4c1-45e6-960d-ff1b4894773d&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;resourceVersion&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3351515&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;creationTimestamp&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:12:13Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;deletionTimestamp&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:15:25Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;managedFields&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;manager&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curl&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;operation&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Update&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;apiVersion&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;time&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:42:38Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;fieldsType&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;FieldsV1&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;fieldsV1&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;f:status&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;f:phase&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;spec&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;phase&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Terminating&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;conditions&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;NamespaceDeletionDiscoveryFailure&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;True&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:15:30Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DiscoveryFailed&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Discovery failed for some groups, 1 failing: unable to retrieve the complete list of server APIs: metrics.k8s.io/v1beta1: the server is currently unable to handle the request&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;NamespaceDeletionGroupVersionParsingFailure&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;False&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:15:30Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ParsedGroupVersions&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;All legacy kube types successfully parsed&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;NamespaceDeletionContentFailure&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;False&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:15:30Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ContentDeleted&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;All content successfully deleted, may be waiting on finalization&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;NamespaceContentRemaining&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;False&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:15:30Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ContentRemoved&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;All content successfully removed&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;NamespaceFinalizersRemaining&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;False&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;lastTransitionTime&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2023-12-14T09:15:30Z&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ContentHasNoFinalizers&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;All content-preserving finalizers finished&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜åå…­å¼ºåˆ¶åˆ é™¤-pod-ä¹‹åéƒ¨ç½²ä¸æˆåŠŸ"></a>é—®é¢˜åå…­ï¼šå¼ºåˆ¶åˆ é™¤ pod ä¹‹åéƒ¨ç½²ä¸æˆåŠŸ<a class="hash-link" href="#é—®é¢˜åå…­å¼ºåˆ¶åˆ é™¤-pod-ä¹‹åéƒ¨ç½²ä¸æˆåŠŸ" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="é—®é¢˜æè¿°-1"></a>é—®é¢˜æè¿°<a class="hash-link" href="#é—®é¢˜æè¿°-1" title="Direct link to heading">#</a></h4><p>å› ä¸ºç°åœ¨ edge çš„ pod æ˜¯é€šè¿‡åˆ›å»º deployment ç”± deployment è¿›è¡Œåˆ›å»ºï¼Œä½†æ˜¯é€šè¿‡ <code>kubectl delete deploy &lt;deploy-name&gt;</code> åˆ é™¤ deployment åï¼Œpod ä¸€ç›´å¡åœ¨äº† terminating çŠ¶æ€ï¼Œäºæ˜¯é‡‡ç”¨äº† <code>kubectl delete pod edgeworker-deployment-7g5hs-58dffc5cd7-b77wz --force --grace-period=0</code> å‘½ä»¤è¿›è¡Œäº†åˆ é™¤ã€‚
ç„¶åå‘ç°é‡æ–°éƒ¨ç½²æ—¶å€™å‘ç° assigned to edge çš„ pod éƒ½å¡åœ¨ pending çŠ¶æ€ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³-1"></a>è§£å†³<a class="hash-link" href="#è§£å†³-1" title="Direct link to heading">#</a></h4><p>å› ä¸º--force æ˜¯ä¸ä¼šå®é™…ç»ˆæ­¢è¿è¡Œçš„ï¼Œæ‰€ä»¥æœ¬èº«åŸæ¥çš„ docker å¯èƒ½è¿˜åœ¨è¿è¡Œï¼Œç°åœ¨çš„åšæ³•æ˜¯æ‰‹åŠ¨å»å¯¹åº”çš„è¾¹ç¼˜èŠ‚ç‚¹ä¸Šåˆ é™¤å¯¹åº”çš„å®¹å™¨ï¼ˆåŒ…æ‹¬ pauseï¼Œå…³äº pause å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« <a href="https://zhuanlan.zhihu.com/p/464712164" target="_blank" rel="noopener noreferrer">å¤§ç™½è¯ K8Sï¼ˆ03ï¼‰ï¼šä» Pause å®¹å™¨ç†è§£ Pod çš„æœ¬è´¨ - çŸ¥ä¹ (zhihu.com)</a>ï¼‰ï¼Œç„¶åé‡å¯ edgecore: <code>systemctl restart edgecore.service</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜åä¸ƒåˆ é™¤-deploymentpod-ç­‰å®¹å™¨ä¾æ—§è‡ªåŠ¨é‡å¯"></a>é—®é¢˜åä¸ƒï¼šåˆ é™¤ deploymentã€pod ç­‰ï¼Œå®¹å™¨ä¾æ—§è‡ªåŠ¨é‡å¯<a class="hash-link" href="#é—®é¢˜åä¸ƒåˆ é™¤-deploymentpod-ç­‰å®¹å™¨ä¾æ—§è‡ªåŠ¨é‡å¯" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"> journalctl -u edgecore.service  -f</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img alt="Q17" src="/zh/assets/images/Q17-669c6d2f79f3164af4465da5421337b5.png"></p><p>è§£å†³ï¼šé‡å¯ edgecore</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart edgecore.service</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜åå…«å¤§é¢ç§¯-evicteddisk-pressure"></a>é—®é¢˜åå…«ï¼šå¤§é¢ç§¯ Evictedï¼ˆdisk pressureï¼‰<a class="hash-link" href="#é—®é¢˜åå…«å¤§é¢ç§¯-evicteddisk-pressure" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="åŸå› "></a>åŸå› <a class="hash-link" href="#åŸå› " title="Direct link to heading">#</a></h4><ul><li><p>node ä¸Šçš„ kubelet è´Ÿè´£é‡‡é›†èµ„æºå ç”¨æ•°æ®ï¼Œå¹¶å’Œé¢„å…ˆè®¾ç½®çš„ threshold å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœè¶…è¿‡ threshold å€¼ï¼Œkubelet ä¼šæ€æ‰ä¸€äº› Pod æ¥å›æ”¶ç›¸å…³èµ„æºï¼Œ<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fkubernetes.io%2Fdocs%2Ftasks%2Fadminister-cluster%2Fout-of-resource%2F" target="_blank" rel="noopener noreferrer">K8sgå®˜ç½‘è§£è¯»kubernetesé…ç½®èµ„æºä¸è¶³å¤„ç†</a></p></li><li><p>é»˜è®¤å¯åŠ¨æ—¶ï¼Œnode çš„å¯ç”¨ç©ºé—´ä½äº15%çš„æ—¶å€™ï¼Œè¯¥èŠ‚ç‚¹ä¸Šè®²ä¼šæ‰§è¡Œ eviction æ“ä½œï¼Œç”±äºç£ç›˜å·²ç»è¾¾åˆ°äº†85%,åœ¨æ€ä¹ˆé©±é€ä¹Ÿæ— æ³•æ­£å¸¸å¯åŠ¨å°±ä¼šä¸€ç›´é‡å¯ï¼ŒPod çŠ¶æ€ä¹Ÿæ˜¯ pending ä¸­</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="ä¸´æ—¶è§£å†³æ–¹æ³•"></a>ä¸´æ—¶è§£å†³æ–¹æ³•<a class="hash-link" href="#ä¸´æ—¶è§£å†³æ–¹æ³•" title="Direct link to heading">#</a></h4></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶å¢åŠ ä¼ å‚æ•°,æ·»åŠ æ­¤é…ç½®é¡¹<code>--eviction-hard=nodefs.available&lt;5%</code></p></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">root@cloud:/usr/lib/systemd/system</span><span class="token comment" style="color:#999988;font-style:italic"># systemctl status kubelet</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">â— kubelet.service - kubelet: The Kubernetes Node Agent</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     Loaded: loaded </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">/lib/systemd/system/kubelet.service</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> vendor preset: enabled</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Drop-In: /etc/systemd/system/kubelet.service.d</span></span><span class="token-line" style="color:#393A34"><span class="token plain">             â””â”€10-kubeadm.conf</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     Active: active </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">running</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> since Fri </span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-12-15 09:17:50 CST</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> 5min ago</span></span><span class="token-line" style="color:#393A34"><span class="token plain">       Docs: https://kubernetes.io/docs/home/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   Main PID: </span><span class="token number" style="color:#36acaa">1070209</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">kubelet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      Tasks: </span><span class="token number" style="color:#36acaa">59</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">limit: </span><span class="token number" style="color:#36acaa">309024</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">     Memory: </span><span class="token number" style="color:#36acaa">67</span><span class="token plain">.2M</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     CGroup: /system.slice/kubelet.service</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¯ä»¥çœ‹åˆ°é…ç½®æ–‡ä»¶ç›®å½•æ‰€åœ¨ä½ç½®æ˜¯ <code>/etc/systemd/system/kubelet.service.d</code>ï¼Œé…ç½®æ–‡ä»¶æ˜¯ <code>10-kubeadm.conf</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> /etc/systemd/system/kubelet.service.d/10-kubeadm.conf</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Service</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">Environment</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;KUBELET_KUBECONFIG_ARGS=--bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">Environment</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;KUBELET_CONFIG_ARGS=--config=/var/lib/kubelet/config.yaml --eviction-hard=nodefs.available&lt;5%&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">æœ€åæ·»åŠ ä¸Š--eviction-hard</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">nodefs.available</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">5</span><span class="token plain">%</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ç„¶åé‡å¯ kubelet</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl daemon-reload</span></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl  restart kubelet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä¼šå‘ç°å¯ä»¥æ­£å¸¸éƒ¨ç½²äº†(åªæ˜¯åº”æ€¥æªæ–½ï¼Œç£ç›˜ç©ºé—´éœ€è¦å†æ¸…ç†)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜åä¹æ‰§è¡Œiptables-å‘½ä»¤æ—¶å‘ç°ç³»ç»Ÿä¸æ”¯æŒ--dporté€‰é¡¹"></a>é—®é¢˜åä¹ï¼šæ‰§è¡Œiptables å‘½ä»¤æ—¶å‘ç°ç³»ç»Ÿä¸æ”¯æŒ--dporté€‰é¡¹ã€‚<a class="hash-link" href="#é—®é¢˜åä¹æ‰§è¡Œiptables-å‘½ä»¤æ—¶å‘ç°ç³»ç»Ÿä¸æ”¯æŒ--dporté€‰é¡¹" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="é—®é¢˜æè¿°-2"></a>é—®é¢˜æè¿°<a class="hash-link" href="#é—®é¢˜æè¿°-2" title="Direct link to heading">#</a></h4><p>æ‰§è¡Œå‘½ä»¤ï¼šiptables -t nat -A OUTPUT -p tcp --dport 10351 -j DNAT --to $CLOUDCOREIPS:10003</p><p>æŠ¥é”™ä¿¡æ¯ä¸­æŒ‡å‡ºç³»ç»Ÿä¸æ”¯æŒ--dporté€‰é¡¹ï¼Œè¿™æ˜¯å› ä¸ºiptablesç‰ˆæœ¬ä¸æ”¯æŒã€‚</p><p>ä½¿ç”¨iptables -VæŸ¥çœ‹ç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯iptables v1.8.7 (nf_tables)ï¼Œè¯´æ˜é—®é¢˜å‡ºåœ¨è¿™é‡Œï¼Œå› ä¸ºnf_tablesç‰ˆæœ¬ä¸æ”¯æŒ--dporté€‰é¡¹ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³æ–¹æ³•-1"></a>è§£å†³æ–¹æ³•<a class="hash-link" href="#è§£å†³æ–¹æ³•-1" title="Direct link to heading">#</a></h4><p>æ­¤æ—¶ï¼Œä½¿ç”¨sudo update-alternatives --config iptableså‘½ä»¤å¯ä»¥åˆ‡æ¢ç‰ˆæœ¬ï¼Œæ‰§è¡Œæ­¤å‘½ä»¤ä¼šæä¾›3ä¸ªå¯ä¾›é€‰æ‹©çš„ç‰ˆæœ¬ï¼Œå…¶ä¸­ç¼–å·ä¸º1çš„å°±æ˜¯legacyç‰ˆæœ¬ï¼ˆå¿…é¡»ç”¨sudoæƒé™æ‰èƒ½åˆ‡æ¢æˆåŠŸï¼‰ã€‚åˆ‡æ¢æˆåŠŸåå†åœ¨rootæ¨¡å¼ä¸‹æ‰§è¡Œ iptables -t nat -A OUTPUT -p tcp --dport 10351 -j DNAT --to $CLOUDCOREIPS:10003ï¼Œç†æƒ³çŠ¶æ€ä¸‹æ— è¾“å‡ºã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜äºŒåæ‰§è¡Œå®Œkeadm-joinå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™token-formaté”™è¯¯"></a>é—®é¢˜äºŒåï¼šæ‰§è¡Œå®Œkeadm joinå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™token formaté”™è¯¯ã€‚<a class="hash-link" href="#é—®é¢˜äºŒåæ‰§è¡Œå®Œkeadm-joinå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™token-formaté”™è¯¯" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="é—®é¢˜æè¿°-3"></a>é—®é¢˜æè¿°<a class="hash-link" href="#é—®é¢˜æè¿°-3" title="Direct link to heading">#</a></h4><p>æ‰§è¡Œå‘½ä»¤ï¼škeadm join --cloudcore-ipport=114.212.81.11:10000 --kubeedge-version=1.9.2 --token=â€¦â€¦ä¹‹åï¼Œå†æ‰§è¡Œjournalctl -u edegecore.service -få‘½ä»¤åï¼ŒæŠ¥é”™ä¿¡æ¯æŒ‡å‡ºtoken formatæœ‰é—®é¢˜ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³æ–¹æ³•-2"></a>è§£å†³æ–¹æ³•<a class="hash-link" href="#è§£å†³æ–¹æ³•-2" title="Direct link to heading">#</a></h4><p>æ­¤æ—¶è¦ä¹ˆæ˜¯å› ä¸ºcloudcore.serviceé‡å¯åtokenå˜åŒ–å¯¼è‡´keadm joinä¸­çš„tokenè¿‡æ—¶ï¼Œè¦ä¹ˆæ˜¯å› ä¸ºæ‰§è¡Œkeadm joinçš„æ—¶å€™tokenè¾“å…¥çš„ä¸å¯¹ã€‚æ­¤æ—¶ï¼Œé¦–å…ˆåœ¨äº‘ç«¯é‡æ–°è·å–æ­£ç¡®çš„tokenï¼Œç„¶ååœ¨è¾¹ç«¯ä»keadm resetå¼€å§‹é‡æ–°æ‰§è¡Œä¸€ç³»åˆ—æ“ä½œã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜äºŒåä¸€é‡å¯edgecoreserviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™mapping-error"></a>é—®é¢˜äºŒåä¸€ï¼šé‡å¯edgecore.serviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™mapping error<a class="hash-link" href="#é—®é¢˜äºŒåä¸€é‡å¯edgecoreserviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™mapping-error" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="é—®é¢˜æè¿°-4"></a>é—®é¢˜æè¿°<a class="hash-link" href="#é—®é¢˜æè¿°-4" title="Direct link to heading">#</a></h4><p>åœ¨æ‰§è¡ŒEdgeMeshå¯åŠ¨é˜¶æ®µï¼Œä¿®æ”¹/etc/kubeedge/config/edgecore.yamlæ–‡ä»¶ï¼Œå†ç”¨systemctl restart edgecore.serviceé‡å¯æœåŠ¡ï¼Œç„¶åå†æ‰§è¡Œjournalctl -u edegecore.service -få‘½ä»¤åï¼ŒæŠ¥é”™ä¿¡æ¯æŒ‡å‡ºå½“å‰å­˜åœ¨mapping errorï¼Œä»¥åŠyamlæ— æ³•è½¬åŒ–ä¸ºjsonã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³æ–¹æ³•-3"></a>è§£å†³æ–¹æ³•<a class="hash-link" href="#è§£å†³æ–¹æ³•-3" title="Direct link to heading">#</a></h4><p>æ£€æŸ¥æ˜¯ä¸æ˜¯/etc/kubeedge/config/edgecore.yamlæ–‡ä»¶å†…çš„æ ¼å¼æœ‰é—®é¢˜ã€‚yamlæ–‡ä»¶ä¸­ä¸èƒ½ç”¨tabç¼©è¿›ï¼Œå¿…éœ€ç”¨ç©ºæ ¼ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜äºŒåäºŒé‡å¯edgecoreserviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™connect-refuse"></a>é—®é¢˜äºŒåäºŒï¼šé‡å¯edgecore.serviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™connect refuse<a class="hash-link" href="#é—®é¢˜äºŒåäºŒé‡å¯edgecoreserviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™connect-refuse" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="é—®é¢˜æè¿°-5"></a>é—®é¢˜æè¿°<a class="hash-link" href="#é—®é¢˜æè¿°-5" title="Direct link to heading">#</a></h4><p>åœ¨æ‰§è¡ŒEdgeMeshå¯åŠ¨é˜¶æ®µï¼Œä¿®æ”¹/etc/kubeedge/config/edgecore.yamlæ–‡ä»¶ï¼Œå†ç”¨systemctl restart edgecore.serviceé‡å¯æœåŠ¡ï¼Œç„¶åå†æ‰§è¡Œjournalctl -u edegecore.service -få‘½ä»¤åï¼ŒæŠ¥é”™ä¿¡æ¯æŒ‡å‡ºconnect refuseï¼Œäº‘ç«¯æ‹’ç»é€šä¿¡ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³æ–¹æ³•-4"></a>è§£å†³æ–¹æ³•<a class="hash-link" href="#è§£å†³æ–¹æ³•-4" title="Direct link to heading">#</a></h4><p>æ£€æŸ¥æ˜¯ä¸æ˜¯å› ä¸ºäº‘ç«¯cloudcoreæœ‰é—®é¢˜ã€‚é¦–å…ˆç”¨systemctl status cloudcoreæŸ¥çœ‹äº‘ç«¯çŠ¶æ€ï¼Œç¡®ä¿å…¶æ­£å¸¸è¿è¡Œï¼›ç„¶åç”¨systemctl restart cloudcore.serviceé‡å¯æœåŠ¡ï¼Œå¹¶åœ¨é‡å¯åjournalctl -u cloudcore.service -fæŸ¥çœ‹æŠ¥é”™ä¿¡æ¯ã€‚æ­¤æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½å‘ç°é—®é¢˜å››ï¼šjournalclt -u cloudcore.service -xe æ—¶çœ‹åˆ° xxx already in use
åŸå› ï¼šåº”è¯¥æ˜¯ä¹‹å‰çš„è®°å½•æ²¡æœ‰æ¸…ç†å¹²å‡€ï¼ˆä¸€èˆ¬æ˜¯å ç”¨äº†10002ç«¯å£ï¼‰
è§£å†³ï¼šæ‰¾åˆ°å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼Œç›´æ¥ Kill å³å¯
lsof -i:xxxx
kill xxxxx</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜äºŒåä¸‰éƒ¨ç½²metrics-serviceæ—¶é‡åˆ°shutting-downç›¸å…³é—®é¢˜"></a>é—®é¢˜äºŒåä¸‰ï¼šéƒ¨ç½²metrics-serviceæ—¶é‡åˆ°Shutting downç›¸å…³é—®é¢˜<a class="hash-link" href="#é—®é¢˜äºŒåä¸‰éƒ¨ç½²metrics-serviceæ—¶é‡åˆ°shutting-downç›¸å…³é—®é¢˜" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="é—®é¢˜æè¿°-6"></a>é—®é¢˜æè¿°<a class="hash-link" href="#é—®é¢˜æè¿°-6" title="Direct link to heading">#</a></h4><p>éƒ¨ç½²metrics-serviceè¿‡ç¨‹ä¸­æŒ‰ç…§æ–‡æ¡£ä¸­ä¿®æ”¹components.yamlæ–‡ä»¶ä¸­ç«¯å£å·ä¸º4443ï¼Œè€Œåç»­metrics-serviceè¿è¡Œå¤±è´¥ï¼Œ
äº§ç”ŸShutting down RequestHeaderAuthRequestControllerç­‰ç›¸å…³é”™è¯¯ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³æ–¹æ³•-5"></a>è§£å†³æ–¹æ³•<a class="hash-link" href="#è§£å†³æ–¹æ³•-5" title="Direct link to heading">#</a></h4><p>åœ¨éƒ¨ç½²kubeedgeæ—¶ï¼Œmetrics-serviceå‚æ•°ä¸­æš´éœ²çš„ç«¯å£ä¼šè¢«è‡ªåŠ¨è¦†ç›–ä¸º10250ç«¯å£ï¼Œcomponents.yamlæ–‡ä»¶ä¸­åç»­å®é™…æœåŠ¡
æ‰€åœ¨çš„ç«¯å£ä¸€è‡´ã€‚ä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¿®æ”¹å‚æ•°ä¸­çš„ç«¯å£ä¸º10250å³å¯ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜äºŒåå››16925496-1653-io-timeout"></a>é—®é¢˜äºŒåå››ï¼š169.254.96. 16:53: i/o timeout<a class="hash-link" href="#é—®é¢˜äºŒåå››16925496-1653-io-timeout" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="é—®é¢˜æè¿°-7"></a>é—®é¢˜æè¿°<a class="hash-link" href="#é—®é¢˜æè¿°-7" title="Direct link to heading">#</a></h4><p>é›†ç¾¤æ–°åŠ å…¥èŠ‚ç‚¹ï¼ŒKubeEdgeçš„edgemeshä»¥åŠsednaç­‰ç»„ä»¶ä¼šè‡ªåŠ¨éƒ¨ç½²ã€‚æŸ¥çœ‹lcçš„logä¼šå‘ç°æŠ¥é”™</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">client tries to connect global manager(address: gm.sedna:9000) failed, error: dial tcp: lookup gm.sedna on 169.254.96.16:53: read udp 172.17.0.3:49991-&gt;169.254.96.16:53: i/o timeout</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³æ–¹æ³•-6"></a>è§£å†³æ–¹æ³•<a class="hash-link" href="#è§£å†³æ–¹æ³•-6" title="Direct link to heading">#</a></h4><p>ç”±äºæ˜¯podä¸edgemesh-agentçš„äº¤äº’é—®é¢˜ï¼Œé¦–å…ˆæ£€æŸ¥è¯¥edgeä¸Šçš„edgemesh-agentçš„çŠ¶æ€ï¼Œå‘ç°ä¼šæ˜¯edgemesh-agentçš„é—®é¢˜ã€‚
<img alt="Q24-1" src="/zh/assets/images/Q24-1-b02734af65fce88ec4459259d817bc36.png"></p><p>é€šè¿‡describe podå‘ç°è¯¥podè¢«åˆ†é…åˆ°æ–°edgeåå°±æ²¡æœ‰å…¶ä½™äº‹ä»¶è®°å½•</p><p><img alt="Q24-2" src="/zh/assets/images/Q24-2-b2316d2cf4ee1288f5324df9a0da9876.png"></p><p>å¯ä»¥å»edgeä¸ŠæŸ¥çœ‹ä¿¡æ¯ã€‚é€šè¿‡<code>journalctl -u edgecore.service -xe</code>å¯ä»¥çœ‹åˆ°ç›¸å…³æŠ¥é”™</p><p><img alt="Q24-3" src="/zh/assets/images/Q24-3-af894ddc03e47d6514186c0bb7f079ba.png"></p><p>åŸå› ï¼šdockerå›½å†…æ— æ³•è®¿é—®ï¼Œæ–°åŠ å…¥çš„edgeæ²¡æœ‰åšå¯¹åº”é…ç½®ï¼Œå¯¼è‡´æ‹‰å–ä¸åˆ° kubeedge/edgemesh-agent é•œåƒã€‚é…ç½®åé‡å¯dockerå’Œedgecoreå³å¯ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é—®é¢˜äºŒåäº”è¾¹ç«¯joinæŠ¥é”™"></a>é—®é¢˜äºŒåäº”ï¼šè¾¹ç«¯joinæŠ¥é”™<a class="hash-link" href="#é—®é¢˜äºŒåäº”è¾¹ç«¯joinæŠ¥é”™" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="é—®é¢˜æè¿°-8"></a>é—®é¢˜æè¿°<a class="hash-link" href="#é—®é¢˜æè¿°-8" title="Direct link to heading">#</a></h4><p>è¾¹ç«¯æ‰§è¡Œkeadm joinæŠ¥é”™</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="è§£å†³æ–¹æ³•-7"></a>è§£å†³æ–¹æ³•<a class="hash-link" href="#è§£å†³æ–¹æ³•-7" title="Direct link to heading">#</a></h4><p>æ£€æŸ¥edgecore.yamlæ–‡ä»¶</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> /etc/kubeedge/config/edgecore.yaml</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><img alt="Q25" src="/zh/assets/images/Q25-dc68c2dfac16a206d5fd83e3a9d1ba11.png"></p><p>edgeHubä¸­çš„httpServeræ·»åŠ äº‘ç«¯åœ°å€ï¼Œä¾‹å¦‚<a href="https://114.212.81.11:10002" target="_blank" rel="noopener noreferrer">https://114.212.81.11:10002</a> ï¼Œwebsocketä¸­çš„serveråˆ é™¤æœ€å¼€å§‹çš„å†’å·</p><p>ä¿®æ”¹å®Œåé‡æ–°è¿è¡Œkeadm joinæŒ‡ä»¤ã€‚</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh/docs/getting-start/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh/docs/developer-guide/how-to-build"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to Build Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#é—®é¢˜ä¸€kube-proxy-æŠ¥-iptables-é—®é¢˜" class="table-of-contents__link">é—®é¢˜ä¸€ï¼škube-proxy æŠ¥ iptables é—®é¢˜</a></li><li><a href="#é—®é¢˜äºŒcalico-å’Œ-coredns-ä¸€ç›´å¤„äºåˆå§‹åŒ–" class="table-of-contents__link">é—®é¢˜äºŒï¼šcalico å’Œ coredns ä¸€ç›´å¤„äºåˆå§‹åŒ–</a></li><li><a href="#é—®é¢˜ä¸‰metrics-serverä¸€ç›´æ— æ³•æˆåŠŸ" class="table-of-contents__link">é—®é¢˜ä¸‰ï¼šmetrics-serverä¸€ç›´æ— æ³•æˆåŠŸ</a></li><li><a href="#é—®é¢˜å››10002-already-in-use" class="table-of-contents__link">é—®é¢˜å››ï¼š10002 already in use</a></li><li><a href="#é—®é¢˜äº”edgecore-ç¬¦å·é“¾æ¥å·²å­˜åœ¨" class="table-of-contents__link">é—®é¢˜äº”ï¼šedgecore ç¬¦å·é“¾æ¥å·²å­˜åœ¨</a></li><li><a href="#é—®é¢˜å…­ç¼ºå°‘-tlsstreamcertfile" class="table-of-contents__link">é—®é¢˜å…­ï¼šç¼ºå°‘ TLSStreamCertFile</a></li><li><a href="#é—®é¢˜ä¸ƒedgemesh-çš„-log-è¾¹è¾¹äº’è”æˆåŠŸäº‘è¾¹æ— æ³•è¿æ¥" class="table-of-contents__link">é—®é¢˜ä¸ƒï¼šedgemesh çš„ log è¾¹è¾¹äº’è”æˆåŠŸï¼Œäº‘è¾¹æ— æ³•è¿æ¥</a></li><li><a href="#é—®é¢˜å…«master-çš„gpu-å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ°-gpu-èµ„æº" class="table-of-contents__link">é—®é¢˜å…«ï¼šmaster çš„gpu å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ° gpu èµ„æº</a></li><li><a href="#é—®é¢˜ä¹jeston-çš„-gpu-å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ°-gpu-èµ„æº" class="table-of-contents__link">é—®é¢˜ä¹ï¼šjeston çš„ gpu å­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ° gpu èµ„æº</a></li><li><a href="#é—®é¢˜ålc12700-5353-no-such-hostconnection-refused" class="table-of-contents__link">é—®é¢˜åï¼šlc127.0.0. 53:53 no such host/connection refused</a></li><li><a href="#é—®é¢˜åä¸€1692549616no-such-host" class="table-of-contents__link">é—®é¢˜åä¸€ï¼š169.254.96.16:no such host</a></li><li><a href="#é—®é¢˜åäºŒ-kubectl-logs-pod-name-è¶…æ—¶" class="table-of-contents__link">é—®é¢˜åäºŒï¼š <code>kubectl logs &lt;pod-name&gt;</code> è¶…æ—¶</a></li><li><a href="#é—®é¢˜åä¸‰-kubectl-logs-pod-name-å¡ä½" class="table-of-contents__link">é—®é¢˜åä¸‰ï¼š <code>kubectl logs &lt;pod-name&gt;</code> å¡ä½</a></li><li><a href="#é—®é¢˜åå››cloudcoreæŠ¥certficateé”™è¯¯" class="table-of-contents__link">é—®é¢˜åå››ï¼šCloudCoreæŠ¥certficateé”™è¯¯</a></li><li><a href="#é—®é¢˜åäº”åˆ é™¤å‘½åç©ºé—´å¡åœ¨-terminating" class="table-of-contents__link">é—®é¢˜åäº”ï¼šåˆ é™¤å‘½åç©ºé—´å¡åœ¨ terminating</a></li><li><a href="#é—®é¢˜åå…­å¼ºåˆ¶åˆ é™¤-pod-ä¹‹åéƒ¨ç½²ä¸æˆåŠŸ" class="table-of-contents__link">é—®é¢˜åå…­ï¼šå¼ºåˆ¶åˆ é™¤ pod ä¹‹åéƒ¨ç½²ä¸æˆåŠŸ</a></li><li><a href="#é—®é¢˜åä¸ƒåˆ é™¤-deploymentpod-ç­‰å®¹å™¨ä¾æ—§è‡ªåŠ¨é‡å¯" class="table-of-contents__link">é—®é¢˜åä¸ƒï¼šåˆ é™¤ deploymentã€pod ç­‰ï¼Œå®¹å™¨ä¾æ—§è‡ªåŠ¨é‡å¯</a></li><li><a href="#é—®é¢˜åå…«å¤§é¢ç§¯-evicteddisk-pressure" class="table-of-contents__link">é—®é¢˜åå…«ï¼šå¤§é¢ç§¯ Evictedï¼ˆdisk pressureï¼‰</a></li><li><a href="#é—®é¢˜åä¹æ‰§è¡Œiptables-å‘½ä»¤æ—¶å‘ç°ç³»ç»Ÿä¸æ”¯æŒ--dporté€‰é¡¹" class="table-of-contents__link">é—®é¢˜åä¹ï¼šæ‰§è¡Œiptables å‘½ä»¤æ—¶å‘ç°ç³»ç»Ÿä¸æ”¯æŒ--dporté€‰é¡¹ã€‚</a></li><li><a href="#é—®é¢˜äºŒåæ‰§è¡Œå®Œkeadm-joinå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™token-formaté”™è¯¯" class="table-of-contents__link">é—®é¢˜äºŒåï¼šæ‰§è¡Œå®Œkeadm joinå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™token formaté”™è¯¯ã€‚</a></li><li><a href="#é—®é¢˜äºŒåä¸€é‡å¯edgecoreserviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™mapping-error" class="table-of-contents__link">é—®é¢˜äºŒåä¸€ï¼šé‡å¯edgecore.serviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™mapping error</a></li><li><a href="#é—®é¢˜äºŒåäºŒé‡å¯edgecoreserviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™connect-refuse" class="table-of-contents__link">é—®é¢˜äºŒåäºŒï¼šé‡å¯edgecore.serviceåå†æ‰§è¡Œjournalctlæ—¶æŠ¥é”™connect refuse</a></li><li><a href="#é—®é¢˜äºŒåä¸‰éƒ¨ç½²metrics-serviceæ—¶é‡åˆ°shutting-downç›¸å…³é—®é¢˜" class="table-of-contents__link">é—®é¢˜äºŒåä¸‰ï¼šéƒ¨ç½²metrics-serviceæ—¶é‡åˆ°Shutting downç›¸å…³é—®é¢˜</a></li><li><a href="#é—®é¢˜äºŒåå››16925496-1653-io-timeout" class="table-of-contents__link">é—®é¢˜äºŒåå››ï¼š169.254.96. 16:53: i/o timeout</a></li><li><a href="#é—®é¢˜äºŒåäº”è¾¹ç«¯joinæŠ¥é”™" class="table-of-contents__link">é—®é¢˜äºŒåäº”ï¼šè¾¹ç«¯joinæŠ¥é”™</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh/docs/introduction/why-dayu">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/dayu-autostreamer/dayu/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github Issue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/dayu-autostreamer/dayu" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 The Dayu Authors. All rights reserved.</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.eaeab0d0.js"></script>
<script src="/zh/assets/js/main.c5dadaff.js"></script>
</body>
</html>